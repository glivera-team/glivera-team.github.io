---
layout: post
title:  "Icon Fonts"
date:   2016-01-07 08:24:00 +0300
categories: svg
lang: en
autor: Andrey Boyko
---
Hi, developer!

In this article I will tell you how to create and use an icon font with gulp. We use [gulp-iconfont](https://www.npmjs.com/package/gulp-iconfont) and [gulp-iconfont-css](https://www.npmjs.com/package/gulp-iconfont-css).

## Install plugins and prescribe dependencies
{% highlight html %}
npm install gulp-iconfont@4.0.0 gulp-iconfont-css -g
npm link gulp-iconfont gulp-iconfont-css
{% endhighlight %}
gulpfile.js
{% highlight javascript %}
var iconfont = require('gulp-iconfont'),
    iconfontCss = require('gulp-iconfont-css'),
    fontName = 'somename';
{% endhighlight %}
The fontName parameter is required; this is the name of our font.

## Write the task
gulpfile.js
{% highlight javascript %}
gulp.task('iconfont', function(){
  gulp.src(['assets/i/icons/*.svg'])
     .pipe(iconfontCss({
        path: 'assets/sass/templates/_icons_template.scss',
        fontName: fontName,
        targetPath: '../../sass/_icons.scss',
        fontPath: '../fonts/icons/'
     }))
     .pipe(iconfont({
        fontName: fontName
     }))
     .pipe(gulp.dest('assets/fonts/icons'));
});
{% endhighlight %}

And now more detailed:
{% highlight javascript %}
gulp.src(['assets/i/icons/*.svg'])
{% endhighlight %}

Let’s take all the icons (the path is specified relative to gulpfile).
Next, inside the task, we prescribe a template for the scss file, which the icons will be used with:
{% highlight javascript %}
path: 'assets/sass/templates/_icons_template.scss'
{% endhighlight %}

The template is available at [https://github.com/glivera-team/glivera-team-template/blob/master/assets/sass/templates/_icons_template.scss](https://github.com/glivera-team/glivera-team-template/blob/master/assets/sass/templates/_icons_template.scss)

fontName: fontName is the name of the font that was previously unveiled.

fontPath: '../fonts/icons/' is the font path.

targetPath is the path to the scss file.

## Create a font

We run the task having previously checked all the paths (since you may have a different folder location). If everything went right, the font specified in the fontPath parameter is in the svg format, and the targetPath now contains the scss file that needs to be imported into the sass of your project. It consists of three main parts:

Font connection
{% highlight scss %}
@font-face {
  font-family: "somename";
  src: url('../fonts/icons/somename.eot');
  src: url('../fonts/icons/somename.eot?#iefix') format('eot'),
  url('../fonts/icons/somename.woff') format('woff'),
  url('../fonts/icons/somename.ttf') format('truetype'),
  url('../fonts/icons/somename.svg#somename') format('svg');
}
{% endhighlight %}

The general declaration of silent classes, assigning font properties to them
{% highlight scss %}
%icon-button_play2,
%icon-button_plus,
%last_selector {
     &:before {
        font-family: "iconsmoon";
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        font-style: normal;
        font-variant: normal;
        font-weight: normal;
        // speak: none; // only necessary if not using the private unicode range (firstGlyph option)
        text-decoration: none;
        text-transform: none;
     }
}
{% endhighlight %}

Each quiet class has its own icon!
{% highlight scss %}
%icon-achievement:before {
  content:'\E001';
}
%icon-add:before {
  content:'\E002';
}
%icon-android:before {
  content:'\E003';
}
{% endhighlight %}

## Edit the font on iconmoon

In order to make the font easier to use, edit it on [iconmoon](https://icomoon.io/app/).
In our case, we are loading not individual icons, but the entire font (the same one that was generated by gulp).
![](https://habrastorage.org/files/b94/70d/c8b/b9470dc8b636449b8ad12d4999fc5669.png)
After loading, a list of icons will appear.
Each icon needs to be processed in a visual editor. Click on the edit icon and then on the icon.
![](https://habrastorage.org/files/6e9/91c/b7b/6e991cb7bc5f46a3bef95ba81a6a6f13.png)
An icon processing window will open. Initiate the grid (if it is turned off) and set the size to 16. The size of the icon is displayed in the upper left corner. 
![](https://habrastorage.org/files/28c/2d4/1b1/28c2d41b116f4ee1ac82a2d0db4f2ef9.png)
Next, you need to bring the icon to 16x16 size. To do this, you need to “play” with the grid size and the size of the icon. Here is my method (I simply intuitively came to it):

The current size is 17.3, separating the fractional part from it - 3.

Transfer the grid to mode 20 and increase the icon by the number found before (3). Next, we transfer the grid back to 16 - it should be an integer number, which we render to 16.

In the result, we get the 16X16 icon.
![](https://habrastorage.org/files/e6d/3da/79c/e6d3da79cacb4625a20e1c891ca8acc7.png)
Next, we place the icon in the centre and leave one empty set of cells on the sides.
![](https://habrastorage.org/files/002/1d6/28c/0021d628c83145f3af2bc0a101258c13.png)
The icon is ready for use. Sometimes it is impossible to make an icon 16x16 due to a violation of the pixel grid. In this case, it is better to make the icon wider.

## Usage
Download the font from iconmoon, to do this, select all the icons (select all in the set menu) and click generate font:
![](https://habrastorage.org/files/2e4/602/a7f/2e4602a7fbfb43019ba6f26b13d2ce96.png)
Next, in the settings, write the name of the font (which we came up with earlier)
![](https://habrastorage.org/files/21b/654/a65/21b654a653d54c1cb31daa868b92c7f1.png)
After that, download the archive, copy the font files (folder fonts) in the project. Also, save the file selection.json, you may need it to edit the font.
Now the font can be used in the project. For example, we want to add the achievement icon to an element (let's name it .test_selector)
{% highlight scss %}
.test_selector {
     @extend %icon-achievement;
}
{% endhighlight %}

The icon is added!

Now, to change its colour or size, just write these properties in the before of the element:
{% highlight scss %}
.test_selector {
  @extend %icon-achievement;
  
  color:red;
  margin:100px;
  font-size: 20px;
  position: relative;
  &:before {
     content:"";
     color: #acb2ff;
     font-size: 50px;
     position: absolute;
     top: -25px;
     left: -50px;
  }
}
{% endhighlight %}

The icon is added:
![](https://habrastorage.org/files/d09/472/293/d094722933a8454fa814c190f86e8bc5.png)

That's all.

